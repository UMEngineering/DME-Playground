<!DOCTYPE HTML>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
	<title>earth</title>
	<script src="js/three-min.js"></script>
	<style>
		body{
			background-color:#fff;
			margin:0;
			padding:0;
			text-align:center;
		}
	</style>
    
	<script>
    var container,stats;
    var scene, renderer, camera;
    var mesh;
    var mouseX=0,mouseY=0;
    var windowHalfX=window.innerWidth/2;
    var windowHalfY=window.innerHeight/2;
    var fov = 70,near = 1,far= 2000;
    var width=800;
    var height=600;
    
    window.onload = function(){
		init();
		animate();
	};
    
    function init(){
        container=document.getElementById('container');
        camera=new THREE.PerspectiveCamera(fov,width/height,near,far);
        camera.position.z=500;
        scene=new THREE.Scene();
        mesh=new THREE.Mesh(new THREE.PlaneGeometry(600,300,3,3),
            new THREE.MeshBasicMaterial({map:THREE.ImageUtils.loadTexture('images/shadow.png'),
            overdraw:true}));
        mesh.position.y=-250;
        mesh.rotation.x=-90*Math.PI/180;
        scene.add(mesh);
        mesh = new THREE.Mesh( new THREE.SphereGeometry( 200, 20, 20 ), 
            new THREE.MeshBasicMaterial( { map: THREE.ImageUtils.loadTexture( 'images/land_ocean.jpg' ), overdraw: true } ) );
        scene.add( mesh );
                    
        renderer=new THREE.CanvasRenderer();
        renderer.setSize(width,height);
        container.appendChild(renderer.domElement);
        
        document.addEventListener('mousemove',onDocumentMouseMove,false);
    }
    
    function onDocumentMouseMove(event){
        mouseX=(event.clientX-windowHalfX);
        mouseY=(event.clientY-windowHalfY);
    }
    
    function animate(){
        requestAnimationFrame(animate); 
        render();
        stats.update();
    }
    
    function render(){
        camera.position.x += ( mouseX - camera.position.x ) * 0.1;
        camera.position.y += ( - mouseY - camera.position.y ) * 0.1;
        camera.lookAt( scene.position );
        mesh.rotation.y -= 0.01;
        renderer.render( scene, camera );
    }
    </script>
</head>
<body>
<div id="container"></div>
</body>
</html>