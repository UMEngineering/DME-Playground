
/* - plugins.js - */
ï»¿/**
* hoverIntent r6 // 2011.02.26 // jQuery 1.5.1+
* <http://cherne.net/brian/resources/jquery.hoverIntent.html>
* 
* @param  f  onMouseOver function || An object with configuration options
* @param  g  onMouseOut function  || Nothing (use configuration options object)
* @author    Brian Cherne brian(at)cherne(dot)net
*/
(function($){$.fn.hoverIntent=function(f,g){var cfg={sensitivity:7,interval:100,timeout:0};cfg=$.extend(cfg,g?{over:f,out:g}:f);var cX,cY,pX,pY;var track=function(ev){cX=ev.pageX;cY=ev.pageY};var compare=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);if((Math.abs(pX-cX)+Math.abs(pY-cY))<cfg.sensitivity){$(ob).unbind("mousemove",track);ob.hoverIntent_s=1;return cfg.over.apply(ob,[ev])}else{pX=cX;pY=cY;ob.hoverIntent_t=setTimeout(function(){compare(ev,ob)},cfg.interval)}};var delay=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);ob.hoverIntent_s=0;return cfg.out.apply(ob,[ev])};var handleHover=function(e){var ev=jQuery.extend({},e);var ob=this;if(ob.hoverIntent_t){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t)}if(e.type=="mouseenter"){pX=ev.pageX;pY=ev.pageY;$(ob).bind("mousemove",track);if(ob.hoverIntent_s!=1){ob.hoverIntent_t=setTimeout(function(){compare(ev,ob)},cfg.interval)}}else{$(ob).unbind("mousemove",track);if(ob.hoverIntent_s==1){ob.hoverIntent_t=setTimeout(function(){delay(ev,ob)},cfg.timeout)}}};return this.bind('mouseenter',handleHover).bind('mouseleave',handleHover)}})(jQuery);

/**
 * jCarouselLite - jQuery plugin to navigate images/any content in a carousel style widget.
 * @requires jQuery v1.2 or above
 *
 * http://gmarwaha.com/jquery/jcarousellite/
 *
 * Copyright (c) 2007 Ganeshji Marwaha (gmarwaha.com)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * Version: 1.0.1
 * Note: Requires jquery 1.2 or above from version 1.0.1
 */
(function($) { $.fn.jCarouselLite = function(o) { o = $.extend({ btnPrev: null, btnNext: null, btnGo: null, mouseWheel: false, auto: null, speed: 200, easing: null, vertical: false, circular: true, visible: 3, start: 0, scroll: 1, beforeStart: null, afterEnd: null }, o || {}); return this.each(function() { var b = false, animCss = o.vertical ? "top" : "left", sizeCss = o.vertical ? "height" : "width"; var c = $(this), ul = $("ul", c), tLi = $("li", ul), tl = tLi.size(), v = o.visible; if (o.circular) { ul.prepend(tLi.slice(tl - v - 1 + 1).clone()).append(tLi.slice(0, v).clone()); o.start += v } var f = $("li", ul), itemLength = f.size(), curr = o.start; c.css("visibility", "visible"); f.css({ overflow: "hidden", float: o.vertical ? "none" : "left" }); ul.css({ margin: "0", padding: "0", position: "relative", "list-style-type": "none", "z-index": "1" }); c.css({ overflow: "hidden", position: "relative", "z-index": "2", left: "0px" }); var g = o.vertical ? height(f) : width(f); var h = g * itemLength; var j = g * v; f.css({ width: f.width(), height: f.height() }); ul.css(sizeCss, h + "px").css(animCss, -(curr * g)); c.css(sizeCss, j + "px"); if (o.btnPrev) $(o.btnPrev).click(function() { return go(curr - o.scroll) }); if (o.btnNext) $(o.btnNext).click(function() { return go(curr + o.scroll) }); if (o.btnGo) $.each(o.btnGo, function(i, a) { $(a).click(function() { return go(o.circular ? o.visible + i : i) }) }); if (o.mouseWheel && c.mousewheel) c.mousewheel(function(e, d) { return d > 0 ? go(curr - o.scroll) : go(curr + o.scroll) }); if (o.auto) setInterval(function() { go(curr + o.scroll) }, o.auto + o.speed); function vis() { return f.slice(curr).slice(0, v) }; function go(a) { if (!b) { if (o.beforeStart) o.beforeStart.call(this, vis()); if (o.circular) { if (a <= o.start - v - 1) { ul.css(animCss, -((itemLength - (v * 2)) * g) + "px"); curr = a == o.start - v - 1 ? itemLength - (v * 2) - 1 : itemLength - (v * 2) - o.scroll } else if (a >= itemLength - v + 1) { ul.css(animCss, -((v) * g) + "px"); curr = a == itemLength - v + 1 ? v + 1 : v + o.scroll } else curr = a } else { if (a < 0 || a > itemLength - v) return; else curr = a } b = true; ul.animate(animCss == "left" ? { left: -(curr * g)} : { top: -(curr * g) }, o.speed, o.easing, function() { if (o.afterEnd) o.afterEnd.call(this, vis()); b = false }); if (!o.circular) { $(o.btnPrev + "," + o.btnNext).removeClass("disabled"); $((curr - o.scroll < 0 && o.btnPrev) || (curr + o.scroll > itemLength - v && o.btnNext) || []).addClass("disabled") } } return false } }) }; function css(a, b) { return parseInt($.css(a[0], b)) || 0 }; function width(a) { return a[0].offsetWidth + css(a, 'marginLeft') + css(a, 'marginRight') }; function height(a) { return a[0].offsetHeight + css(a, 'marginTop') + css(a, 'marginBottom') } })(jQuery);

/**
 * JsRender v1.0pre - (jsrender.js version: does not require jQuery): http://github.com/BorisMoore/jsrender */
//window.JsViews || window.jQuery && jQuery.views || function(d, k) { var b, u, l, a, i, f, h, s, r, c, g = false, n = true, e = d.jQuery, G = d.document, B = /^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /, m = /^(true|false|null|[\d\.]+)|(\w+|\$(view|data|ctx|(\w+)))([\w\.]*)|((['"])(?:\\\1|.)*\7)$/g, D = /(\$?[\w\.\[\]]+)(?:(\()|\s*(===|!==|==|!=|<|>|<=|>=)\s*|\s*(\=)\s*)?|(\,\s*)|\\?(\')|\\?(\")|(\))|(\s+)/g, C = /\r?\n/g, x = /\\(['"])/g, y = /\\?(['"])/g, z = /\x08([^\x08]+)\x08/g, A = 0, q = { "&": "&amp;", "<": "&lt;", ">": "&gt;" }, v = /[\x00"&'<>]/g, E = Array.prototype.slice; if (e) { b = e; b.fn.extend({ render: function(c, b, a, d) { return f(c, this[0], b, a, d) }, template: function(c, a) { return b.template(c, this[0], a) } }) } else { u = d.$; d.JsViews = l = d.$ = b = { extend: function(c, b) { var a; for (a in b) c[a] = b[a]; return c }, isArray: Array.isArray || function(a) { return Object.prototype.toString.call(a) === "[object Array]" }, noConflict: function() { if (d.$ === l) d.$ = u; return l } } } c = b.extend; function o(e, h, b, g, f) { b = b || { viewsCount: 0, ctx: a.helpers }; var d = b && b.ctx; return { jsViews: "v1.0pre", path: h || "", itemNumber: ++b.viewsCount || 1, viewsCount: 0, tmpl: f, data: g || b.data || {}, ctx: e && e === d ? d : d ? c(c({}, d), e) : e || {}, parent: b} } c(b, { views: a = { templates: {}, tags: { "if": function() { var b = this, a = b._view; a.onElse = function(e, b) { var c = 0, d = b.length; while (d && !b[c++]) if (c === d) return ""; a.onElse = k; return f(a.data, e.tmpl, a.ctx, a) }; return a.onElse(this, arguments) }, "else": function() { var a = this._view; return a.onElse ? a.onElse(this, arguments) : "" }, each: function() { for (var a = this, d = "", e = arguments, h = e.length, g = a.tmpl, b = a._view, c = 0; c < h; c++) d += e[c] ? f(e[c], g, a.ctx || b.ctx, b, a._path, a._ctor) : ""; return h ? d : d + f(b.data, g, b.ctx, b, a._path, a.tag) }, "=": function(a) { return a }, "*": function(a) { return a } }, helpers: { not: function(a) { return !a } }, allowCode: g, debugMode: n, err: function(b) { return a.debugMode ? "<br/><b>Error:</b> <em> " + (b.message || b) + ". </em>" : '""' }, setDelimiters: function(c, b) { var a = b.charAt(0), d = b.charAt(1); c = "\\" + c.charAt(0) + "\\" + c.charAt(1); b = "\\" + a + "\\" + d; h = c + "(?:(?:(\\#)?(\\w+(?=[!\\s\\" + a + "]))|(?:(\\=)|(\\*)))\\s*((?:[^\\" + a + "]|\\" + a + "(?!\\" + d + "))*?)(!(\\w*))?|(?:\\/([\\w\\$\\.\\[\\]]+)))" + b; h = new RegExp(h, "g") }, registerTags: s = function(b, d) { var c; if (typeof b === "object") for (c in b) s(c, b[c]); else a.tags[b] = d; return this }, registerHelpers: r = function(b, d) { if (typeof b === "object") { var c; for (c in b) r(c, b[c]) } else a.helpers[b] = d; return this }, encode: function(b, a) { return a ? (i[b || "html"] || i.html)(a) : "" }, encoders: i = { none: function(a) { return a }, html: function(a) { return String(a).replace(v, w) } }, renderTag: function(h, g, l, e, b) { var f, d, m, j = arguments, i = a.presenters; hash = b._hash, tagFn = a.tags[h]; if (!tagFn) return ""; e = e && g.tmpl.nested[e - 1]; b.tmpl = b.tmpl || e || k; if (i && i[h]) { d = c(c({}, b.ctx), b); delete d.ctx; delete d._path; delete d.tmpl; b.ctx = d; b._ctor = h + (hash ? "=" + hash.slice(0, -1) : ""); b = c(c({}, tagFn), b); tagFn = a.tags.each } b._encode = l; b._view = g; f = tagFn.apply(b, j.length > 5 ? E.call(j, 5) : [g.data]); return f || (f === k ? "" : f.toString()) } }, render: f = function(c, d, g, e, i, n) { var j, l, f, m, k, h = ""; if (arguments.length === 2 && c.jsViews) { e = c; g = e.ctx; c = e.data } d = b.template(d); if (!d) return ""; if (b.isArray(c)) { m = new o(g, i, e, c); l = c.length; for (j = 0, l = c.length; j < l; j++) { f = c[j]; k = f ? d(f, new o(g, i, m, f, d, this)) : ""; h += a.activeViews ? "<!--item-->" + k + "<!--/item-->" : k } } else h += d(c, new o(g, i, e, c, d)); return a.activeViews ? "<!--tmpl(" + (i || "") + ") " + (n ? "tag=" + n : d._name) + "-->" + h + "<!--/tmpl-->" : h }, template: function(d, c) { if (c) { if ("" + c === c) c = t(c); else if (e && c instanceof b) c = c[0]; if (c) { if (e && c.nodeType) c = b.data(c, "tmpl") || b.data(c, "tmpl", t(c.innerHTML)); a.templates[c._name = c._name || d || "_" + A++] = c } return c } return d ? "" + d !== d ? d._name ? d : b.template(null, d) : a.templates[d] || b.template(null, B.test(d) ? d : F(d)) : null } }); a.setDelimiters("{{", "}}"); function j(h, e, a, c, b, f, d) { return a ? (c ? b ? "$view." + b : a : "$data." + a) + (f || "") : d || (e || "") } function t(d) { var e, k = 0, i = [], f = [], c = f, b = [, , f]; function l(a) { a -= k; a && c.push(d.substr(k, a).replace(C, "\\n")) } function o(C, q, f, A, B, d, w, y, v, t) { var r, s = "", h = 0, p = g, o = g; function u(e, a, k, c, q, i, b, d, f, l) { return o ? (o = !b, o ? e : '"') : p ? (p = !d, p ? e : '"') : c ? a.replace(m, j) + c : q ? h ? "" : (r = n, "\b" + a + ":") : k ? (h++, a.replace(m, j) + "(") : f ? (h--, ")") : a ? a.replace(m, j) : i ? "," : l ? h ? "" : r ? (r = g, "\b") : "," : (o = b, p = d, '"') } f = f || A; l(t); if (B) a.allowCode && c.push(["*", d.replace(x, "$1")]); else if (f) { if (f === "else") { b = i.pop(); c = b[2]; q = n } d = d ? (d + " ").replace(D, u).replace(z, function(c, a) { s += a + ","; return "" }) : ""; d = d.slice(0, -1); e = [f, w ? y || "none" : "", q && [], "{" + s + "_hash:'" + s + "',_path:'" + d + "'}", d]; if (q) { i.push(b); b = e } c.push(e) } else if (v) b = i.pop(); k = t + C.length; if (!b) throw "Expected block tag"; c = b[2] } d = d.replace(y, "\\$1"); d.replace(h, o); l(d.length); return p(f) } function p(k) { for (var j, a, h = [], m = k.length, c = "try{var views=" + (e ? "jQuery" : "JsViews") + '.views,tag=views.renderTag,enc=views.encode,html=views.encoders.html,$ctx=$view && $view.ctx,result=""+\n\n', d = 0; d < m; d++) { a = k[d]; if (a[0] === "*") c = c.slice(0, d ? -1 : -3) + ";" + a[1] + (d + 1 < m ? "result+=" : ""); else if ("" + a === a) c += '"' + a + '"+'; else { var l = a[0], b = a[1], g = a[2], n = a[3], i = a[4], f = i + '||"")+'; g && h.push(p(g)); c += l === "=" ? !b || b === "html" ? "html(" + f : b === "none" ? "(" + f : 'enc("' + b + '",' + f : 'tag("' + l + '",$view,"' + (b || "") + '",' + (g ? h.length : '""') + "," + n + (i ? "," : "") + i + ")+" } } j = new Function("$data, $view", c.slice(0, -1) + ";return result;\n\n}catch(e){return views.err(e);}"); j.nested = h; return j } function w(a) { return q[a] || (q[a] = "&#" + a.charCodeAt(0) + ";") } function F(a) { try { return b(a) } catch (c) { } return a } } (window)

/* jQuery Cookie */
jQuery.cookie = function (d, c, a) { if (typeof c != "undefined") { a = a || {}; if (c === null) { c = ""; a.expires = -1 } var h = ""; if (a.expires && (typeof a.expires == "number" || a.expires.toUTCString)) { var b; if (typeof a.expires == "number") { b = new Date; b.setTime(b.getTime() + a.expires * 24 * 60 * 60 * 1e3) } else b = a.expires; h = "; expires=" + b.toUTCString() } var l = a.path ? "; path=" + a.path : "", j = a.domain ? "; domain=" + a.domain : "", k = a.secure ? "; secure" : ""; document.cookie = [d, "=", encodeURIComponent(c), h, l, j, k].join("") } else { var f = null; if (document.cookie && document.cookie != "") for (var g = document.cookie.split(";"), e = 0; e < g.length; e++) { var i = jQuery.trim(g[e]); if (i.substring(0, d.length + 1) == d + "=") { f = decodeURIComponent(i.substring(d.length + 1)); break } } return f } };	

/*
 * jQuery BBQ: Back Button & Query Library - v1.2.1 - 2/17/2010
 * http://benalman.com/projects/jquery-bbq-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function($,p){var i,m=Array.prototype.slice,r=decodeURIComponent,a=$.param,c,l,v,b=$.bbq=$.bbq||{},q,u,j,e=$.event.special,d="hashchange",A="querystring",D="fragment",y="elemUrlAttr",g="location",k="href",t="src",x=/^.*\?|#.*$/g,w=/^.*\#/,h,C={};function E(F){return typeof F==="string"}function B(G){var F=m.call(arguments,1);return function(){return G.apply(this,F.concat(m.call(arguments)))}}function n(F){return F.replace(/^[^#]*#?(.*)$/,"$1")}function o(F){return F.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function f(H,M,F,I,G){var O,L,K,N,J;if(I!==i){K=F.match(H?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/);J=K[3]||"";if(G===2&&E(I)){L=I.replace(H?w:x,"")}else{N=l(K[2]);I=E(I)?l[H?D:A](I):I;L=G===2?I:G===1?$.extend({},I,N):$.extend({},N,I);L=a(L);if(H){L=L.replace(h,r)}}O=K[1]+(H?"#":L||!K[1]?"?":"")+L+J}else{O=M(F!==i?F:p[g][k])}return O}a[A]=B(f,0,o);a[D]=c=B(f,1,n);c.noEscape=function(G){G=G||"";var F=$.map(G.split(""),encodeURIComponent);h=new RegExp(F.join("|"),"g")};c.noEscape(",/");$.deparam=l=function(I,F){var H={},G={"true":!0,"false":!1,"null":null};$.each(I.replace(/\+/g," ").split("&"),function(L,Q){var K=Q.split("="),P=r(K[0]),J,O=H,M=0,R=P.split("]["),N=R.length-1;if(/\[/.test(R[0])&&/\]$/.test(R[N])){R[N]=R[N].replace(/\]$/,"");R=R.shift().split("[").concat(R);N=R.length-1}else{N=0}if(K.length===2){J=r(K[1]);if(F){J=J&&!isNaN(J)?+J:J==="undefined"?i:G[J]!==i?G[J]:J}if(N){for(;M<=N;M++){P=R[M]===""?O.length:R[M];O=O[P]=M<N?O[P]||(R[M+1]&&isNaN(R[M+1])?{}:[]):J}}else{if($.isArray(H[P])){H[P].push(J)}else{if(H[P]!==i){H[P]=[H[P],J]}else{H[P]=J}}}}else{if(P){H[P]=F?i:""}}});return H};function z(H,F,G){if(F===i||typeof F==="boolean"){G=F;F=a[H?D:A]()}else{F=E(F)?F.replace(H?w:x,""):F}return l(F,G)}l[A]=B(z,0);l[D]=v=B(z,1);$[y]||($[y]=function(F){return $.extend(C,F)})({a:k,base:k,iframe:t,img:t,input:t,form:"action",link:k,script:t});j=$[y];function s(I,G,H,F){if(!E(H)&&typeof H!=="object"){F=H;H=G;G=i}return this.each(function(){var L=$(this),J=G||j()[(this.nodeName||"").toLowerCase()]||"",K=J&&L.attr(J)||"";L.attr(J,a[I](K,H,F))})}$.fn[A]=B(s,A);$.fn[D]=B(s,D);b.pushState=q=function(I,F){if(E(I)&&/^#/.test(I)&&F===i){F=2}var H=I!==i,G=c(p[g][k],H?I:{},H?F:2);p[g][k]=G+(/#/.test(G)?"":"#")};b.getState=u=function(F,G){return F===i||typeof F==="boolean"?v(F):v(G)[F]};b.removeState=function(F){var G={};if(F!==i){G=u();$.each($.isArray(F)?F:arguments,function(I,H){delete G[H]})}q(G,2)};e[d]=$.extend(e[d],{add:function(F){var H;function G(J){var I=J[D]=c();J.getState=function(K,L){return K===i||typeof K==="boolean"?l(I,K):l(I,L)[K]};H.apply(this,arguments)}if($.isFunction(F)){H=F;return G}else{H=F.handler;F.handler=G}}})})(jQuery,this);
/*
 * jQuery hashchange event - v1.2 - 2/11/2010
 * http://benalman.com/projects/jquery-hashchange-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function ($, i, b) { var j, k = $.event.special, c = "location", d = "hashchange", l = "href", f = $.browser, g = document.documentMode, h = f.msie && (g === b || g < 8), e = "on" + d in i && !h; function a(m) { m = m || i[c][l]; return m.replace(/^[^#]*#?(.*)$/, "$1") } $[d + "Delay"] = 100; k[d] = $.extend(k[d], { setup: function () { if (e) { return false } $(j.start) }, teardown: function () { if (e) { return false } $(j.stop) } }); j = (function () { var m = {}, r, n, o, q; function p() { o = q = function (s) { return s }; if (h) { n = $('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow; q = function () { return a(n.document[c][l]) }; o = function (u, s) { if (u !== s) { var t = n.document; t.open().close(); t[c].hash = "#" + u } }; o(a()) } } m.start = function () { if (r) { return } var t = a(); o || p(); (function s() { var v = a(), u = q(t); if (v !== t) { o(t = v, u); $(i).trigger(d) } else { if (u !== t) { i[c][l] = i[c][l].replace(/#.*/, "") + "#" + u } } r = setTimeout(s, $[d + "Delay"]) })() }; m.stop = function () { if (!n) { r && clearTimeout(r); r = 0 } }; return m })() })(jQuery, this);

/**
 * Get the current coordinates of the first element in the set of matched
 * elements, relative to the closest positioned ancestor element that
 * matches the selector.
 * @param {Object} selector (jQuery selector string)
 */
jQuery.fn.positionAncestor=function(c){var a=0,b=0;this.each(function(){var d=$(this).closest(c),e=$(this),h,i,f,g;if(d.length&&d.css("position")!=="static"){h=e.offset().left-(isNaN(parseInt(e.css("margin-left"),10))?0:parseInt(e.css("margin-left"),10));i=e.offset().top-(isNaN(parseInt(e.css("margin-top"),10))?0:parseInt(e.css("margin-top"),10));f=d.offset().left+(isNaN(parseInt(d.css("border-left-width"),10))?0:parseInt(d.css("border-left-width"),10));g=d.offset().top+(isNaN(parseInt(d.css("border-top-width"),10))?0:parseInt(d.css("border-top-width"),10));a=h-f;b=i-g;return false}});if(a!==a)a=0;if(b!==b)b=0;return{left:a,top:b}}
